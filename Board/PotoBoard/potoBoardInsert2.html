<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>포토갤러리</title>
    <link rel="icon" href="">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="../03_JavaScript/resources/js/sample.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Board_list bootstrap -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>



    <!-- css link -->
    <link rel="stylesheet" href="../PotoBoardCSS/potoBoardInsert2.css">
    <link rel="stylesheet" href="../../src/main/webapp/resources/css/breadcrumb.css">
    <script src="js/fmp.js"> </script>
    
</head>
<body>
    <div class="wrap">

    <!--headr start-->   
    <header class="header-top-section">
 
        <nav class="header_nav">
           <div width="80%">
              <div class="menu_logo">
                  <a href=""><img src="../../html/webapp/resources/images/포마이펫.png" style="width: 200px;" ></a>
                </div>

              <div class="menu_item">
              <a href="" class="community">EVENT</a>
            </div>
            <div class="menu_item">
              <a href="" >강아지</a>
            </div>
            <div class="menu_item">
              <a href="" >고양이</a>
            </div>
            <div class="menu_item">
              <a href="" >리뷰</a>
            </div>
            <div class="menu_item">
              <a href="" >게시판</a>
            </div>
            <div class="menu_item">
              <a href="" >고객센터</a>
            </div> 
         </div>   
          <div class="section">
            <table class="Login_section">
              <tr>
                <td><a href="#"><img src="../../html/webapp/resources/images/로그인아이콘.PNG" style="height: 45px; margin-left: 40px;"></a></td>
                <td><a href="#"><img src="../../html/webapp/resources/images/검색아이콘.PNG" style="height: 40px;  margin-left: 10px;"></a></td>
                <td><a href="#"><img src="../../html/webapp/resources/images/찜 아이콘.PNG" style="height: 60px; margin-left: 13px"></a></td>
                <td><a href="#"><img src="../../html/webapp/resources/images/장바구니 아이콘.PNG" style="height: 45px; margin-right: 45px;"></a></td>
               
              </tr>
            </table>
          </div>
        </nav>
        <table id="hiddenTable" style="display: none;">
            <tr>
                <td>테이블 내용</td>
            </tr>
        </table>
    </header>

    <!--headr end-->
  
    <!-- 브레드크럼 start -->
    <div class="breadc">
        <ol>
          <li><a href="#">Home</a></li>
          <li class="separator">&gt</li>
          <li><a href="#">게시판</a></li>
          <li class="separator">&gt</li>
          <li><a href="#">사진게시판</a></li>
          <li class="separator">&gt</li>
          <li>게시글 작성</li>
        </ol>
      </div>
      <!-- 브레드크럼 end -->

      <!--section start-->    
      <section class="main_content">

        <div >
            <h3 class="board_title">사진게시글 등록</h3>
        </div>

        <div class="content_area">
            <div class="side_area">
                <h5>게시판</h5>
                <a href="#" class="listTitle">자유게시판</a>
                <ul class="list">
                    <li><a href="#">게시글 작성</a></li>
                    <li><a href="#">내가 쓴 글</a></li>
                </ul>

                <a href="#" class="listTitle" style="color:#ffa51f;">사진게시판</a>
                <ul class="list">
                    <li><a href="#">게시글 작성</a></li>
                    <li><a href="">내가 쓴 글</a></li>
                </ul>

            </div>
            <div class="board_content">
                
                

                <form action="" method="">
                    <table class="table">
                        <tr>
                            <th>제목</th>
                            <td colspan="4"><input type="text" class="form-control" required></td>
                        </tr>
                        <tr>
                            <th>내용</th>
                            <td colspan="4"><textarea cols="30" rows="10" class="form-control" style="resize:none;" required></textarea></td>
                            <tr>
                                <th width="120px">대표이미지</th>
                                <td>
                                    <img class="img_preview title_img" onclick="chooseFile(0)">
                                </td>
                                <th width="120px">상세이미지</th>
                                <td>
                                    <img class="img_preview content_img" onclick="chooseFile(1)">
                                    <img class="img_preview content_img" onclick="chooseFile(2)">
                                    <img class="img_preview content_img" onclick="chooseFile(3)">
                                </td>

                            </tr>
                        </tr>
                        <tr>
                            <td colspan="4" align="center">
                                <button type="submit" class="btn btn-outline-secondary btn-sm" data-toggle="modal" data-target="#potoInsert_modal">등록</button>
                                <button type="reset" class="btn btn-outline-danger btn-sm">초기화</button>
                                <button type="button" class="btn btn-outline-warning btn-sm" onclick="history.back();">목록</button>
                            </td>
                        </tr>
                    </table>

                            <!-- modal start -->
                    <!-- 글작성 -->
                    
                        <!-- The Modal -->
                    <div class="modal" id="potoInsert_modal">
                        <div class="modal-dialog">
                        <div class="modal-content">
        
                            <!-- Modal Header -->
                            <!-- modal Header 부분 삭제-->
        
                            <!-- Modal body -->
                            <div class="modal-body">
                            <div class="modal-detail">
                                <h5><strong>작성한 게시글을 저장하시겠습니까?</strong></h5>
                            </div>
                            
                            </div>
        
                            <!-- Modal footer -->
                            <div class="modal-footer">
                            <div class="modal-btn-area">
                                <button type="button" class="btn btn-warning item" data-dismiss="modal" onclick="boardSave();">확인</button>
                                <button type="button" class="btn btn-secondary item" data-dismiss="modal">취소</button>
                            </div>
                            </div>
        
                        </div>
                        </div>
                    </div>
        
                    <!-- modal end -->

                    <div style="display: none;">
                        <!-- 대표이미지-->
                        <input type="file" name="upfile1" onchange="loadImg(0)" required>
                        <!-- 상세이미지-->
                        <input type="file" name="'upfile2" onchange="loadImg(1)">
                        <input type="file" name="'upfile3" onchange="loadImg(2)">
                        <input type="file" name="'upfile4" onchange="loadImg(3)">
                    </div>

                    <script>
                        function chooseFile(idx){
                            $(":file").eq(idx).click();
                        }



                        function loadImg(idx){
                            // idx : img요소들 중 몇번 인덱스 img요소에 미리보기 효과를 넣을 건지
                            // window.target.event : 현재 change이벤트가(파일선택, 파일해제)가 발생한 input type="file" 요소
                            const inputFile = window.event.target;

                            //console.log(inputFile.files); // FileList객체 { 0:파일객체, length:파일갯수}
                            //console.log(inputFile.files[0]); // File객체 (우리가 읽어들여야되는 파일)

                            if(inputFile.files.length == 1){ // 선택된 파일이 있을 경우

                                // 파일을 읽어들이는 FileReader 객체
                                const reader = new FileReader();
                                // 파일을 읽어들이는 메소드
                                reader.readAsDataURL(inputFile.files[0]);
                                // 위의 코드가 실행되는 순간 이 파일만들 지칭할 수 있는 고유한 url이 만들어짐

                                // 파일 읽어들이기가 완료됐을 경우 실행할 function 정의해두기
                                reader.onload = function(e){
                                    // e.target.result : 읽어들인 파일의 고유한 url값
                                    $(".img_preview").eq(idx).attr("src", e.target.result);
                                }


                            } else { // 선택됐던 파일이 제거 됐을 경우 => 미리보기 했던걸 안보여지게끔
                                $(".img_preview").eq(idx).attr("src", null);
                            }


                        }                        
                    </script>


                </form>

            </div>
            <div class="side_area"></div>

        </div>
              

    </section>


      <!--section end-->

      <!--footer start-->    
      
          <div class="footer_company">
              <ul>
                  <li>상호명 : 포마이펫</li>
                  <li>전화 : 02) 2696-8000</li>
                  <li>서울특별시 금천구 가산디지털2로 95 3층</li>
              </ul>
          </div>

          <ul class="footer_copyright">
              Copyright ⓒ <span style="color: #f1da05;">ForMyPet</span>. All rights reserved.
          </ul>
      </footer>
      <!--footer end-->

      <!--sidebar start-->
      
        <!--sidebar end-->
      </div>




  </div>

</body>
</html>