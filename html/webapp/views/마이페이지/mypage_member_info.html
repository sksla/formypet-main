<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>회원정보 수정</title>
</head>


<!-- 헤더 css -->


<!-- 브레드크럼 css -->
<link rel="stylesheet" href="/html/webapp/resources/css/breadcrumb.css">

<!-- 마이페이지 css -->
<link rel="stylesheet" href="mypage.css">

<!-- 회원정보 수정 전용 css -->
<link rel="stylesheet" href="mypage_member_info.css">

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="../03_JavaScript/resources/js/sample.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
  
    <link rel="stylesheet" href="../../../../ForMyPet/css/formypet.css">


<!-- 사이드바 적용 js -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="mypage.js"></script>

<!-- 푸터 css -->


<body>
    <!--head start-->   
    <header>
        <h1>헤더 영역</h1>
        <h1>헤더 영역</h1>
    </header>

    <!--head end-->
    <hr class="hr1">
    
    <!-- 브레드크럼 start -->
    <div class="breadcrumb">
        <ol>
            <li><a href="/html/webapp/views/공통부분/mainPage.html">Home</a></li>
            <li class="separator">&gt</li>
            <li><a href="mypage_mainpage.html">마이페이지</a></li>
            <li class="separator">&gt</li>
            <li>회원정보 수정</li>
        </ol>
    </div>
    <!-- 브레드크럼 end -->
    
    
    <!-- 메인페이지 start-->
    <!-- 제목 -->
    <h1 class="title">회원정보 수정</h1>
    
    <!-- section start -->
    <section>
        <!-- 좌우로 영역 나누기(사이드바, contents) start -->
        <div class="dividing_area1">
            <!-- 사이드바 -->
            <div class="sidebar"></div>


            <!-- ---------------------------------------- -->
            <!-- 보여지는 화면 start -->
            <div>

              
                <form action="insert.me" method="post">
      
                  <div class="signUp">
                    <table class="table .table" id="table_signup">
                      <tr>
                        <th style="width: 150px;">* 아이디</th>
                        <td style="display:flex;">
                          <input type="text" class="form-control member_none" placeholder="formypet1234@gmail.com" required>&nbsp;&nbsp;
                        </td>
                      </tr>
      
                      <script>
                          // 중복확인 버튼 클릭시 호출
                          function idCheck(){
      
                                const $idInput = $(".signup_content input[name=userId]");
                              
                              $.ajax({
                                  url : "<%=contextPath%>/idCheck.me",
                                  data : {checkId:$idInput.val()},
                                  success: function(result){
                                  // 1) 사용불가능(NNNNN)일 경우 => alerth 메세지 출력, 다시 입력할 수 있도록 유도
                                  // 2) 사용 가능(NNNNY)일 경우 => 진짜 사용할건지 재차 물어보기 (confirm메소드)
                                                          // > yes => 더이상 아이디 수정 못하게끔, 회원가입버튼 활성화
                                                          // >  no => 다시 입력할 수 있도록 유도
                                      
                                      if(result == "NNNNN"){
                                          alert("이미 존재하거나 탈퇴한 회원의 아이디입니다.");
                                          $idInput.focus();
                                      }else{
                                          if(confirm("사용가능한 아이디입니다. 사용하시겠습니까?")){
                                              $(".signup_content :submit").removeAttr("disabled");
                                              $idInput.attr("readonly", true);
                                          }else{
                                              $idInput.select();
                                          }
                                      }
                                      
                                  },
                                  
                                  error : function(){
                                      console.log("아이디 중복체크용 ajac 통신 실패");
                                  }
                              
                              });
                                                      
                          }
                          
                      </script>
      
                      <tr>
                        <!-- <th>* 비밀번호</th> -->
                        <!-- <td><input type="password" class="form-control" placeholder="영문/숫자/특수문자 (8~20자)" required></td> -->
                       
                      </tr>
      
                      <tr>
                        <!-- <th>* 비밀번호 확인</th> -->
                        <!-- <td><input type="password" class="form-control" placeholder="확인을 위해 비밀번호를 다시 입력해주세요." required></td> -->
                      </tr>
      
                      <tr>
                        <th>* 이름</th>
                        <td><input type="text" class="form-control member_none" placeholder="이름을 입력해주세요." required></td>
                      </tr>
      
                      <tr>
                        <th>* 생년월일</th>
                        <td style="display:flex;">
                          <input type="number" class="form-control member_none" placeholder="1999년" style="width: 100px;">&nbsp;                
                          <select class="form-control member_none selectpicker noborder" style="width: 100px;">
                         
                            <option value="">1월</option>
                          </select>&nbsp;
                          <input type="number" class="form-control member_none" placeholder="2일" style="width: 100px;">
                        </td>
                      </tr>
      
                      <tr>
                        <th>&nbsp;&nbsp;성별</th>
                        <td style="display:flex;">
                          <input type="radio" class="form-control" id="gender_M" name="gender" style="width:25px; height:25px">
                          <label for="gender_M">&nbsp;&nbsp;남자&nbsp;&nbsp;&nbsp;&nbsp;</label>
                                                             
                          <input type="radio" class="form-control" id="gender_F" name="gender" style="width:25px; height:25px">
                          <label for="gender_F">&nbsp;&nbsp;여자&nbsp;&nbsp;</label>
                        </td>
                      </tr>
      
                      <tr>
                        <th>&nbsp;&nbsp;이메일</th>
                        <td style="display:flex;">
                          <input type="text" class="form-control" id="email_id" placeholder="" style="width: 150px;"><h6 style="margin-top: 8px">&nbsp;@&nbsp;</h6>
                          <input type="text" id="domain-text" class="form-control" value="" title="이메일 도메인" placeholder="" style="width: 180px;">&nbsp;&nbsp;
                          <select class="form-control selectpicker noborder" id="domain-list" title="이메일 도메인 주소 선택" style="width: 150px;" onclick="setEmailDomain(this.value);return false;">
                            <option value="" selected>직접입력</option> <!--선택시 알람창뜨면서 진행안되게-->
                            <option value="naver.com">naver.com</option>
                            <option value="gmail.com">gmail.com</option>
                            <option value="hanmail.net">hanmail.net</op tion>
                            <option value="hotmail.com">hotmail.com</option>
                            <option value="korea.com">korea.com</option>
                            <option value="nate.com">nate.com</option>
                            <option value="yahoo.com">yahoo.com</option>
                          </select>&nbsp;&nbsp;
                          <label style="font-size: 13.5px; font-weight: bold; white-space: nowrap;">
                            <input type="checkbox" style="width: 17px; height: 17px; vertical-align: middle;">
                            정보/이벤트 메일 수신에 동의합니다.
                          </label>                  
                        </td>
                      </tr>
      
                  <script>
      
                    function setEmailDomain(domain){
                      document.getElementById("domain-text").value = domain;
                    }
                
                    const domainListEl = document.querySelector('#domain-list');
                    const domainInputEl = document.querySelector('#domain-text');
      
                  // select 옵션 변경 시
                    domainListEl.addEventListener('change', (event) => {
                      // option에 있는 도메인 선택 시
                      if(event.target.value !== "") {
                          // 선택한 도메인을 input에 입력하고 disabled
                          domainInputEl.value = event.target.value;
                          domainInputEl.disabled = true;
                      } else { // 직접 입력 시
                          // input 내용 초기화 & 입력 가능하도록 변경
                          domainInputEl.value = "";
                          domainInputEl.disabled = false;
                      }
                    });
      
                  </script>
      
                      <tr>
                        <th>&nbsp;&nbsp;휴대폰 번호</th>
                        <td style="display:flex;">
                          <input type="text" class="form-control" style="width: 300px;" placeholder="- 포함 휴대폰 번호를 입력해주세요.">
                          &nbsp;&nbsp;
                          <label style="font-size: 13.5px; font-weight: bold;">
                            <input type="checkbox" style="width: 17px; height: 17px; vertical-align: middle; white-space: nowrap;">
                            정보/이벤트 SMS 수신에 동의합니다.
                          </label> 
                        </td>
                      </tr>
                          
                      <tr>
                        <th>&nbsp;&nbsp;주소</th>
                        <td style="display:flex;">
                          <input type="text" class="form-control" placeholder="주소 입력" style="width: 250px;">&nbsp;&nbsp;
                          <button type="button" class="btn btn-secondary btn-sm">우편번호 검색</button>&nbsp;&nbsp;
                          <input type="text" class="form-control" placeholder="상세주소 입력" style="width: 300px;">
                        </td>    
                      </tr>
                          
                    </table>
                    
                    <br>
                    
                    <p>부가정보</p>
                    <table class="table .table" id="table_signup_sub">
                        <tr>
                          <th style="width: 150px;">&nbsp;&nbsp;반려동물</th>
                            <td style="display:flex;">
                              <input type="radio" class="form-control" id="petCheck_Dog" name="petCheck" style="width:25px; height:25px" onclick="togglePetInputs()">
                              <label for="petCheck_Dog">&nbsp;&nbsp;강아지&nbsp;&nbsp;&nbsp;</label>
                                
                              <input type="radio" class="form-control" id="petCheck_Cat" name="petCheck" style="width:25px; height:25px" onclick="togglePetInputs()">
                              <label for="petCheck_Cat">&nbsp;&nbsp;고양이&nbsp;&nbsp;&nbsp;</label>
                                
                              <input type="radio" class="form-control" id="petCheck_none" name="petCheck" style="width:25px; height:25px" checked onclick="togglePetInputs()">
                              <label for="petCheck_none">&nbsp;&nbsp;없음&nbsp;&nbsp;</label>
                              
                            </td>
                          </tr>
                            
                        <tr>
                          <th>&nbsp;&nbsp;반려동물 이름</th>
                          <td><input type="text" id="petName" class="form-control" disabled></td>
                        </tr>
                          
                        <tr>
                          <th>&nbsp;&nbsp;품종</th>
                          <td><input type="text" id="petKind" class="form-control" disabled></td>
                        </tr>
                        
                        <tr>
                          <th>&nbsp;&nbsp;나이</th>
                          <td style="display:flex;">                
                            <select id="petAgeSelect" class="form-control selectpicker noborder" style="width: 100px;" disabled>
                              <option value="" selected>선택</option>
                              <script>
                                for(let i=0; i<=25; i++){
                                  document.write('<option value="' + i + '">' + i + '살</option>');
                                }
                              </script>
      
                            </select>
                          </td>
                        </tr>
                            
                        <tr>
                          <th>&nbsp;&nbsp;성별</th>
                          <td style="display:flex;">
                            <input type="radio" class="form-control" id="petGen_M" name="pet_gender" style="width:25px; height:25px" disabled>
                            <label for="petGen_M">&nbsp;&nbsp;남아&nbsp;&nbsp;&nbsp;&nbsp;</label>
                                                               
                            <input type="radio" class="form-control" id="petGen_F" name="pet_gender" style="width:25px; height:25px" disabled>
                            <label for="petGen_F">&nbsp;&nbsp;여아&nbsp;&nbsp;</label>
                          </td>
                        </tr>
      
                        <tr>
                          <th colspan="3" style="text-align:center;">
                            <button type="reset" class="btn btn-outline-warning">초기화</button>
                            <button type="submit" class="btn btn-outline-primary" disabled>회원가입</button>
                          </th>
                        </tr>
      
                        </table>
       
                        
      
                    <script>
                      function togglePetInputs() {
                        var petCheck_none = document.getElementById("petCheck_none");
                        var petCheck_Dog = document.getElementById("petCheck_Dog");
                        var petCheck_Cat = document.getElementById("petCheck_Cat");
                        var petNameInput = document.getElementById("petName");
                        var petKindInput = document.getElementById("petKind");
                        var petAgeSelect = document.getElementById("petAgeSelect");
                        var petGen_M = document.getElementById("petGen_M");
                        var petGen_F = document.getElementById("petGen_F");
                        
                        if (petCheck_none.checked) {
                          petNameInput.value = "";
                          petNameInput.disabled = true;
                          petKindInput.value = "";
                          petKindInput.disabled = true;
                          petAgeSelect.disabled = true;
                          petGen_M.disabled = true;
                          petGen_F.disabled = true;
                        } else if(petCheck_Dog.checked || petCheck_Cat.checked) {
                          petNameInput.disabled = false;
                          petKindInput.disabled = false;
                          petAgeSelect.disabled = false;
                          petGen_M.disabled = false;
                          petGen_F.disabled = false;
                        }
                      }
                      
                      </script>
      
      
                    </div>
      
      
      </form>
                

            </div>
            <!-- 보여지는 화면 end -->
            <!-- ---------------------------------------- -->



        </div>
        <!-- 좌우로 영역 나누기(사이드바, contents) end -->
    </section>
    <!-- section end -->
    <!-- 메인페이지 End-->





    <hr class="hr1">
    <!-- 푸터 영역 start -->
    <footer>
        <h1>푸터 영역</h1>
        <h1>푸터 영역</h1>
    </footer>
    <!-- 푸터 영역 end -->


</body>
</html>